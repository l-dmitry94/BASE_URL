{"version":3,"file":"commonHelpers2.js","sources":["../src/js/services/api.js","../src/js/services/modals-footer.js","../src/js/services/refs.js","../src/js/requests/subscription.js","../src/js/products/products.js","../src/js/services/markup.js","../src/js/common/common.js","../src/js/services/storage.js","../src/img/icons.svg","../src/js/products/check-products.js","../src/js/requests/products.js","../src/js/products/discount.js","../src/js/products/popular.js","../src/js/products/add-to-cart.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api';\n\nexport const apiProducts = axios.create({\n    baseURL: `${BASE_URL}/products`,\n});\n\nexport const apiSubscription = axios.create({\n    baseURL: `${BASE_URL}/subscription`,\n});\n\nexport const apiOrders = axios.create({\n    baseURL: `${BASE_URL}/orders`,\n});\n","import * as basicLightbox from 'basiclightbox';\nimport 'basiclightbox/dist/basicLightbox.min.css';\n\n// !-----------------------------New-Subscriber-------------------------------\nexport const modalFooterNewSubscr = function () {\n    let closeBtn;\n    const instance = basicLightbox.create(\n        `\n    <div class=\"modal\">\n    <div class=\"footer__modal\">\n        <button type=\"button\" class=\"footer__modal-close\">\n            <svg class=\"footer__modal-icon\">\n                <use href=\"../../img/icons.svg#icon-close\"></use>\n            </svg>\n        </button>\n        <div class=\"footer__modal-title-text\">\n            <h2 class=\"footer__modal-title\">\n                Thanks for subscribing for\n                <span class=\"footer__modal-span\">new </span>products\n            </h2>\n            <p class=\"footer__modal-text\">\n                We promise you organic and high-quality products that will meet\n                your expectations. Please stay with us and we promise you many\n                pleasant surprises.\n            </p>\n        </div>\n        <div class=\"footer__modal-png\">\n            <img\n                src=\"../../img/footer/subscription.png.png\"\n                alt=\"bascket of products\"\n            />\n        </div>\n    </div>\n</div>\n`,\n        {\n            onShow: instance => {\n                window.addEventListener('keydown', handelClickOnEscap);\n                closeBtn = instance\n                    .element()\n                    .querySelector('.footer__modal-close');\n                closeBtn.addEventListener('click', () => instance.close());\n                document.body.classList.add('modal-open');\n            },\n            onClose: () => {\n                closeBtn.removeEventListener('click', () => instance.close());\n                window.removeEventListener('keydown', handelClickOnEscap);\n                document.body.classList.remove('modal-open');\n            },\n        }\n    );\n\n    instance.show();\n    function handelClickOnEscap(eve) {\n        if (eve.code === 'Escape') {\n            instance.close();\n        }\n    }\n};\n// !-----------------------------Existed-Subscriber-------------------------------\nexport const modalFooterExistedSubscr = function () {\n    let closeBtn;\n    const instance = basicLightbox.create(\n        `\n        <div class=\"modal\">\n        <div class=\"footer__modal-Existed\">\n            <button type=\"button\" class=\"footer__modal-close\">\n                <svg class=\"footer__modal-icon\">\n                    <use href=\"../../img/icons.svg#icon-close\"></use>\n                </svg>\n            </button>\n            <div class=\"footer__modal-title-text-Existed\">\n                <h2 class=\"footer__modal-title-Existed\">\n                    This\n                    <span class=\"footer__modal-span-Existed\">email address</span>\n                    has already been entered\n                </h2>\n                <p class=\"footer__modal-text-Existed\">\n                    You have already subscribed to our new products. Watch for\n                    offers at the mailing address.\n                </p>\n            </div>\n        </div>\n    </div>\n`,\n        {\n            onShow: instance => {\n                window.addEventListener('keydown', handelClickOnEscap);\n                closeBtn = instance\n                    .element()\n                    .querySelector('.footer__modal-close');\n                closeBtn.addEventListener('click', () => instance.close());\n                document.body.classList.add('modal-open');\n            },\n            onClose: () => {\n                closeBtn.removeEventListener('click', () => instance.close());\n                window.removeEventListener('keydown', handelClickOnEscap);\n                document.body.classList.remove('modal-open');\n            },\n        }\n    );\n\n    instance.show();\n    function handelClickOnEscap(eve) {\n        if (eve.code === 'Escape') {\n            instance.close();\n        }\n    }\n};\n","export const refs = {\n    productsFilters: document.querySelector('.products__filters-input'),\n    productsFiltersSelect: document.querySelector('.products__filters-select'),\n    productsCards: document.querySelector('.cards'),\n    btnSubmit: document.querySelector('.products__filters-form'),\n    input: document.querySelector('.products__filters-input'),\n    discountCards: document.querySelector('.discount__list'),\n    popularCards: document.querySelector('.popular__list'),\n    cardWrapper: document.querySelector('.cart__wrapper'),\n};\nexport let baseDataToStore = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n};\nexport let dataAsString = JSON.stringify(baseDataToStore);\n\nexport const footerFormRef = document.querySelector('.footer__form');","import { apiSubscription } from '../services/api';\nimport {\n    modalFooterNewSubscr,\n    modalFooterExistedSubscr,\n} from '../services/modals-footer';\nimport { footerFormRef } from '../services/refs';\n\nfooterFormRef.addEventListener('submit', handleForm);\n\nexport function handleForm(e) {\n    e.preventDefault();\n    const { value } = e.currentTarget.elements.email;\n\n    postSubscriptionNewProducts(value);\n    e.target.reset();\n}\n\nasync function postSubscriptionNewProducts(value) {\n    try {\n        const response = await apiSubscription({\n            method: 'POST',\n            data: {\n                email: value,\n            },\n        });\n        if (response.statusText === 'Created') {\n            modalFooterNewSubscr();\n        }\n    } catch ({ response }) {\n        if (response.statusText === 'Conflict') {\n            modalFooterExistedSubscr();\n        }\n    }\n}\n","import { fetchAllProducts, fetchSearchProducts, fetchSearchProductsFilter, fetchSearchProductsFilters } from \"../requests/products\";\nimport { createFiltresCards } from \"../services/markup\";\nimport { dataAsString, refs } from \"../services/refs\";\n\n// Функція обробки категорій які приходять з сервера\nexport function normalizeCategory(categ) {\n    categ = categ.replace('_&_', ' / ');\n    categ = categ.replace('_', ' ');\n    return categ;\n}\n// Функція обробки категорій які йдуть сервер\nexport function normalizeCategoryServ(categ) {\n    categ = categ.replace(/ /g, '_');\n    categ = categ.replace(/\\//g, encodeURIComponent('&'));\n    return categ;\n}\n// Функція обробки selecter\nexport function handleChange() {\n    const selectedOption =\n        refs.productsFiltersSelect.options[\n            refs.productsFiltersSelect.selectedIndex\n        ];\n    let local = localStorage.getItem('filter');\n    let storedData = local ? JSON.parse(local) : {};\n    const inputValue =\n        selectedOption.textContent !== 'Show all'\n            ? selectedOption.textContent\n            : null;\n    storedData.category = inputValue;\n\n    localStorage.setItem('filter', JSON.stringify(storedData));\n    // console.log(storedData.category);\n    if (storedData.category === null && storedData.keyword === null) {\n        localStorage.setItem('filter', dataAsString);\n        storedData.category = null;\n\n        fetchAllProducts().then(data => {\n            let markup = createFiltresCards(data.results);\n\n            refs.productsCards.innerHTML = markup;\n        }).catch;\n    } else if (storedData.category !== null && storedData.keyword === null) {\n        fetchSearchProducts(\n            normalizeCategoryServ(storedData.category),\n            storedData.page,\n            storedData.limit\n        )\n            .then(data => {\n                let test2 = createFiltresCards(data.results);\n                refs.productsCards.innerHTML = test2;\n                console.log(data);\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    } else if (storedData.category === null && storedData.keyword !== null) {\n        localStorage.setItem('filter', JSON.stringify(storedData));\n        fetchAllProducts().then(data => {\n            let test1 = createFiltresCards(data.results);\n            localStorage.setItem('filter', dataAsString);\n            refs.productsFilters.value = '';\n            refs.productsCards.innerHTML = test1;\n        }).catch;\n        localStorage.setItem('filter', data1);\n        refs.productsFilters.value = \"\";\n    } else if (storedData.category !== null && storedData.keyword !== null) {\n        fetchSearchProductsFilters(\n            storedData.keyword,\n            normalizeCategoryServ(storedData.category),\n            storedData.page,\n            storedData.limit\n        )\n            .then(data => {\n                let test2 = createFiltresCards(data.results);\n                refs.productsCards.innerHTML = test2;\n                console.log(data);\n            })\n            .catch(error => {\n                console.console.log();\n                error;\n            });\n    }\n}\n// Функція обробки submit в фукції filters\nexport function handleSubmit(event) {\n    event.preventDefault();\n    const textInput = refs.input.value;\n    let local = localStorage.getItem('filter');\n    let storedData = local ? JSON.parse(local) : {};\n\n    const inputValue = textInput !== '' ? textInput : null;\n\n    storedData.keyword = inputValue;\n    localStorage.setItem('filter', JSON.stringify(storedData));\n    // console.log(storedData);\n    let data1 = dataAsString;\n    if (storedData.keyword === null) {\n        fetchAllProducts()\n            .then(data => {\n                let markup = createFiltresCards(data.results);\n                localStorage.setItem('filter', data1);\n\n                // console.log(data1);\n                refs.productsCards.innerHTML = markup;\n            })\n            .catch(error => {\n                console.error(error);\n                // Додаткова обробка помилки\n            });\n    } else if (storedData.keyword !== null && storedData.category === null) {\n        // console.log('10');\n        fetchSearchProductsFilter(\n            storedData.keyword,\n            storedData.page,\n            storedData.limit\n        )\n            .then(data => {\n                // console.log('1');\n                let test2 = createFiltresCards(data.results);\n                refs.productsCards.innerHTML = test2;\n                // console.log(data);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    } else if (storedData.keyword !== null && storedData.category !== null) {\n        // console.log('10');\n        fetchSearchProductsFilters(\n            storedData.keyword,\n            storedData.category,\n            storedData.page,\n            storedData.limit\n        )\n            .then(data => {\n                // console.log('1');\n                let test2 = createFiltresCards(data.results);\n                refs.productsCards.innerHTML = test2;\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    } else if (storedData.keyword !== null && storedData.category === null) {\n        // console.log(2);\n        localStorage.setItem('filter', JSON.stringify(storedData));\n        fetchSearchProductsFilter(\n            storedData.keyword,\n            storedData.page,\n            storedData.limit\n        )\n            .then(data => {\n                // console.log('2');\n                let test2 = createFiltresCards(data.results);\n                refs.productsCards.innerHTML = test2;\n                // console.log(data);\n            })\n            .catch(error => {\n                console.error(error);\n            });\n    }\n}\n","import { normalizeCategory } from '../products/products';\n\nexport function createFiltresCards(arr) {\n    return arr\n        .map(\n            ({ _id, name, img, category, price, size, popularity }) =>\n                `\n                <li class=\"cards__item\" data-id=\"${_id}\">\n                <a class=\"cards__link\" href=\"${img}\">\n                        <div class=\"cards__background-img\">\n                            <img class=\"cards__image-photo-js\" src=\"${img}\" alt=\"${name}\" />\n                        </div>\n                        <h4 class=\"cards__title\">${name}</h4>\n                        <ul class=\"cards__info\">\n                            <li class=\"cards__info-item\">\n                            <p class=\"cards__info-title\">Category: <span class=\"cards__info-value\">${normalizeCategory(\n                                category\n                            )}</span></p>\n                        \n                            </li>\n                            <li class=\"cards__info-item\">\n                            <p class=\"cards__info-title\">Size: <span class=\"cards__info-value\">${size}</span></p>\n                               \n                            </li>\n                            <li class=\"cards__info-item\">\n                            <p class=\"cards__info-title\">Popularity: <span class=\"cards__info-value\">${popularity}</span></p>\n                            </li>\n                        </ul>\n                        <div class=\"cards__main\">\n                        <p class=\"cards__price\">$${price}</p>\n                            <button class=\"cards__button\" type=\"button\">\n                                <svg class=\"icon__cart\">\n                                    <use href=\"./img/icons.svg#icon-cart\"></use>\n                                </svg>\n                            </button>\n                        </div>\n                    </a>\n                </li>`\n        )\n        .join('');\n}\n\nexport function createPopularCards(arr) {\n    return arr\n        .map(\n            ({ _id, name, img, category, size, popularity }) =>\n                `<li class=\"cards__item popular__item\" data-id=\"${_id}\">\n                    <a class=\"popular__link\" href=\"${img}\">\n                <div class=\"cards__background-img popular__img\">\n                    <img class=\"popular__image-photo-js\" src=\"${img}\" alt=\"${name}\" />\n                </div>\n                <div class=\"popular__card-description\">\n                    <h4 class=\"cards__title\">${name}</h4>\n                    <ul class=\"cards__info popular__info\">\n                        <li class=\"cards__info-item popular__info-up\">\n                            <p class=\"cards__info-title\">Category:</p>\n                            <p class=\"cards__info-value\">${category}</p>\n                        </li>\n                        <li class=\"popular__info-down\">\n                            <div class=\"cards__info-item\">\n                                <p class=\"cards__info-title\">Size:</p>\n                                <p class=\"cards__info-value\">${size}</p>\n                            </div>\n                            <div class=\"cards__info-item\">\n                                <p class=\"cards__info-title\">Popularity:</p>\n                                <p class=\"cards__info-value\">${popularity}</p>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n                <button class=\"popular__card-button\" type=\"button\">\n                    <svg class=\"popular__icon__cart\">\n                        <use href=\"./img/icons.svg#icon-cart\"></use>\n                    </svg>\n                </button>\n            </a>\n        </li>`\n        )\n        .join('');\n}\n\nexport function createDiscountCards(arr) {\n    return arr\n        .map(\n            ({ _id, name, img, price }) =>\n                `<li class=\"discount__item\" data-id=\"${_id}\">\n                 <a class=\"discount__link\" href=\"#\">\n                  <div class=\"discount__image\">\n            <img class=\"discount__image-photo-js\" src=\"${img}\" alt=\"${name}\" /> </div>\n            <div class=\"discount__descr\">\n            <p class=\"cards__title\">${name}</p>\n                    <div class=\"discount__price-container\">\n                        <p class=\"cards__price\">${price}</p>\n                        <button class=\"cards__button\" type=\"button\">\n                <svg class=\"icon__cart\">\n                    <use href=\"./img/icons.svg#icon-cart\"></use>\n                </svg>\n                </button>\n                    </div>\n                        \n            </div><svg class=\"icon__discount\">\n                            <use href=\"./img/icons.svg#icon-discount\"></use>\n                         </svg>  \n                 </a>\n                 </li>`\n        )\n        .join('');\n}\n\nexport function createModalCards({\n    _id,\n    name,\n    img,\n    category,\n    price,\n    size,\n    popularity,\n    desc,\n}) {\n    return `<div class=\"modal__item\" data-id=\"${_id}\">\n      <img class=\"cards__image-photo\" src=\"${img}\" alt=\"${name}\" />\n      <div class=\"cards__main\">\n      <h4 class=\"cards__title\">${name}</h4>\n      <ul class=\"modal__info\">\n            <li class=\"cards__info-item\">\n                    <p class=\"cards__info-title\">Category: <span class=\"cards__info-value\">${category}</span></p>\n            </li>\n            <li class=\"cards__info-item\">\n                    <p class=\"cards__info-title\">Size: <span class=\"cards__info-value\">${size}</span></p>\n            </li>\n            <li class=\"cards__info-item\">\n                    <p class=\"cards__info-title\">Popularity: <span class=\"cards__info-value\">${popularity}</span></p>\n            </li>\n        </ul>\n        <p class=\"cards__desc-modal\">${desc}</p>\n        </div>\n        <div class=\"cards__main\">\n                <p class=\"cards__price\">${price}</p>\n                <button class=\"cards__button\" type=\"button\"> Add to\n                    <svg class=\"icon__cart\" width=\"18\" height=\"18\">\n                        <use href=\"./img/icons.svg#icon-cart\"></use>\n                    </svg>\n                </button>\n            </div></div>`;\n}\n","export const common = {\n    CART_KEY: \"cart\"\n}","export function saveData(data, key) {\n    localStorage.setItem(key, JSON.stringify(data));\n}\n\nexport function getData(key) {\n    try {\n        const data = localStorage.getItem(key);\n\n        return data ? JSON.parse(data) : [];\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n","export default \"__VITE_ASSET__34116e74__\"","import { common } from '../common/common';\nimport { getData } from '../services/storage';\nimport check from '../../img/icons.svg'\n\nexport async function checkProduct() {\n    const cartArr = getData(common.CART_KEY);\n\n    cartArr.forEach(({_id}) => {\n        const product = document.querySelector(`[data-id=\"${_id}\"]`);\n\n        if (product) {\n            const productButton = product.querySelector(\".cards__button\");\n            productButton.innerHTML = `<svg class=\"icon-checked\"><use href=\"${check}#icon-check\"></use></svg>`;\n        }\n    });\n}","import { apiProducts } from '../services/api';\nimport { refs } from '../services/refs';\nimport { createFiltresCards } from '../services/markup';\nimport { dataAsString } from '../services/refs';\nimport { checkProduct } from '../products/check-products';\n\nexport async function fetchAllCategories() {\n    const response = await apiProducts({\n        method: 'GET',\n        url: '/categories',\n    });\n\n    // console.log(response.data);\n\n    return response.data;\n}\n\nexport async function fetchAllProducts() {\n    const response = await apiProducts({\n        method: 'GET',\n    });\n    checkProduct();\n\n    // console.log(response.data);\n\n    return response.data;\n}\nexport async function fetchSearchProductsFilter(keyword, page, limit) {\n    const response = await apiProducts({\n        method: 'GET',\n        url: `?keyword=${keyword}&page=${page}&limit=${limit}`,\n    });\n    // console.log(response.data);\n    return response.data;\n}\n\nexport async function fetchSearchProductsFilters(\n    keyword,\n    category,\n    page,\n    limit\n) {\n    const response = await apiProducts({\n        method: 'GET',\n        url: `?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`,\n    });\n    return response.data;\n}\n\nexport async function fetchSearchProducts(category, page, limit) {\n    const response = await apiProducts({\n        method: 'GET',\n        url: `?category=${category}&page=${page}&limit=${limit}`,\n    });\n    return response.data;\n}\n\nexport async function fetchProduct(id) {\n    const response = await apiProducts({\n        method: \"GET\",\n        url: `/${id}`\n    })\n\n    return response.data\n}","import { apiProducts } from '../services/api';\nimport { refs } from '../services/refs';\nimport { createDiscountCards } from '../services/markup';\n\nexport async function fetchAllDiscount() {\n    const response = await apiProducts({\n        method: 'GET',\n        url: '/discount',\n    });\n\n    console.log(response.data);\n\n    return response.data;\n}\n","import { apiProducts } from '../services/api';\nimport { refs } from '../services/refs';\nimport { createPopularCards } from '../services/markup';\n\nexport async function fetchAllPopular() {\n    const response = await apiProducts({\n        method: 'GET',\n        url: '/popular',\n    });\n\n    console.log(response.data);\n\n    return response.data;\n}\n","import { common } from \"../common/common\";\nimport { fetchProduct } from \"../requests/products\";\nimport {getData} from '../services/storage';\nimport check from '../../img/icons.svg'\n\nconst cartArr = getData(common.CART_KEY)\n\nexport async function addToCart(event) {\n    const {target} = event;\n\n    const addBtn = target.closest(\".cards__button\");\n\n    if(!addBtn) {\n        return\n    }\n\n    const {id} = addBtn.closest(\".cards__item\").dataset;\n\n    const product = await fetchProduct(id);\n\n    const inStorage = cartArr.some(({_id}) => id === _id);\n\n    if(inStorage) {\n        return\n    }\n\n    cartArr.push(product);\n\n    localStorage.setItem(common.CART_KEY, JSON.stringify(cartArr));\n\n    const checkItem = cartArr.some(({_id}) => id === _id);\n\n    if(checkItem) {\n        addBtn.innerHTML = `<svg class=\"icon-checked\"><use href=\"${check}#icon-check\"></use></svg>`\n    }\n}","// import SlimSelect from 'slim-select';\n// import \"slim-select/dist/slimselect.css\"\n\nimport { handleForm } from './js/requests/subscription';\nimport { fetchAllCategories } from './js/requests/products';\nimport { fetchAllProducts } from './js/requests/products';\nimport { refs } from './js/services/refs';\nimport { dataAsString } from './js/services/refs';\nimport {\n    createFiltresCards,\n    createDiscountCards,\n    createPopularCards,\n} from './js/services/markup';\nimport { handleChange } from './js/products/products';\nimport { handleSubmit } from './js/products/products';\nimport { normalizeCategory } from './js/products/products';\n// Отримуємо всі категорії\nimport { fetchAllDiscount } from './js/products/discount';\nimport { fetchAllPopular } from './js/products/popular';\nimport { addToCart } from './js/products/add-to-cart';\n\n\n\nfetchAllCategories().then(data => {\n    let modifiedCategories = data.map(data => {\n        return normalizeCategory(data);\n    });\n    localStorage.setItem('filter', dataAsString);\n    let markupList = modifiedCategories\n        .map(key => `<option value=\"${key}\">${normalizeCategory(key)}</option>`)\n        .join('');\n\n    let additionalGender = `<option  selected  >Show all</option>`;\n    refs.productsFiltersSelect.innerHTML = markupList + additionalGender;\n    // new SlimSelect({\n    //     select: refs.productsFiltersSelect,\n    //     showSearch: false,\n    //   })\n}).catch;\n\n// Отримуємо всі продукти\nfetchAllProducts().then(data => {\n    let test1 = createFiltresCards(data.results);\n    refs.productsCards.innerHTML = test1;\n}).catch();\n\n// Функція обробки submit в секції filters\nrefs.productsFiltersSelect.addEventListener('change', handleChange);\n// Функція обробки submit в секції filters\nrefs.btnSubmit.addEventListener('submit', handleSubmit);\n\n\n\nrefs.productsFiltersSelect.addEventListener('change', handleChange);\nfetchAllDiscount().then(data => {\n    let discount = createDiscountCards(data.slice(0, 2));\n    refs.discountCards.innerHTML = discount;\n}).catch;\n\nfetchAllPopular().then(data => {\n    let popular = createPopularCards(data.slice(0, 5));\n    refs.popularCards.innerHTML = popular;\n}).catch;\n\nrefs.productsCards.addEventListener(\"click\", (event) => event.preventDefault())\n\nrefs.productsCards.addEventListener(\"click\", addToCart);\n"],"names":["BASE_URL","apiProducts","axios","apiSubscription","modalFooterNewSubscr","closeBtn","instance","basicLightbox.create","handelClickOnEscap","eve","modalFooterExistedSubscr","refs","baseDataToStore","dataAsString","footerFormRef","handleForm","value","postSubscriptionNewProducts","response","normalizeCategory","categ","normalizeCategoryServ","handleChange","selectedOption","local","storedData","inputValue","fetchAllProducts","data","markup","createFiltresCards","fetchSearchProducts","test2","error","test1","fetchSearchProductsFilters","handleSubmit","event","textInput","data1","fetchSearchProductsFilter","arr","_id","name","img","category","price","size","popularity","createPopularCards","createDiscountCards","common","getData","key","check","checkProduct","product","productButton","fetchAllCategories","keyword","page","limit","fetchProduct","id","fetchAllDiscount","fetchAllPopular","cartArr","addToCart","target","addBtn","modifiedCategories","markupList","additionalGender","discount","popular"],"mappings":"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"}